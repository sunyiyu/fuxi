<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>读取文本文件</title>
</head>
<body>
<input type="file" name="" id="input_file">
<div id="result"></div>
</body>
<script>
    var inputFile = document.querySelector("#input_file");
    var resultBox = document.querySelector("#result");

    inputFile.addEventListener("change",function () {
        var file = inputFile.files[0];
        if(file){
            //用户选择了文件
            //读取文件内容；
            //js读取文件有一个专门的对象叫FileReader;
            var reader = new FileReader();
            //reader.readAsText(file);
            reader.readAsDataURL(file);
            reader.addEventListener("load",function (e) {
                //我们在事件的回调函数中最重要的数据往往可以通过e拿到，其次查看this(e.target);
                /*console.log(e);
                console.log(e.target.result);*/
                var img = document.createElement("img");
                img.src = this.result;
                resultBox.appendChild(img);
            });
            //没有返回结果怎么办？
            //为什么没有返回结果？
            //读取的过程需要花时间；
            //js读取文件完成后会触发一个事件：onload；
        }
    })
</script>
</html>